# ACMでワイルドカードSSL証明書を作る際の検討事項

![00rJZdJY2qBUdraPTANDGEyIVQgXK5hwPwoiwdRt.webp](ACM%E3%81%A6%E3%82%99%E3%83%AF%E3%82%A4%E3%83%AB%E3%83%88%E3%82%99%E3%82%AB%E3%83%BC%E3%83%88%E3%82%99SSL%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E4%BD%9C%E3%82%8B%E9%9A%9B%E3%81%AE%E6%A4%9C%E8%A8%8E%E4%BA%8B%E9%A0%85%20dd4f15226e3843428ef3d4ac58656f20/00rJZdJY2qBUdraPTANDGEyIVQgXK5hwPwoiwdRt.webp)

# 目次

---

# はじめに

---

ACMでサブドメインごとに証明書を取得するのではなくSSL証明書を1枚で発行したかったので、そのやり方を記載します。

# 前提

---

- ドメインを取得済み
- DNSはRoute53を利用
- サブドメインも同様にRoute53で管理

# 実施したいこと

---

web.example.com

example.com

test.web.example.com

を1枚でSSL証明書を発行する。

# 実現パターン①

---

元となるドメインのexample.comとサブドメインのtest.web.example.comの２つの証明書を別々で取得することで実現ができますが、

サブドメイン側の証明書を作ることができませんので、サブドメイン用のホストゾーンを作成する必要があります。

- example.com用のホストゾーン
- test.web.example.com用のホストゾーン

ただしこのやり方はホストゾーンを都度作成する必要が出てくるので、

その度にコストがかかりますが実現パターン②と比較すると拡張性があると思います。

# 実現パターン②

---

必要となるサブドメインをACM作成時に全て登録することで証明書を一つにまとめることができホストゾーンもexample.comのみでOKですが、

後からACM証明書にドメインを追加することができないので、サブドメインを追加する場合にはACMを作り直す必要があります。

あらかじめ利用用途が確定しているのであれば、本パターンでも問題ないかと思います。

※運用中に作り直すはシステムによってはしんどいと思うので。

![Untitled](ACM%E3%81%A6%E3%82%99%E3%83%AF%E3%82%A4%E3%83%AB%E3%83%88%E3%82%99%E3%82%AB%E3%83%BC%E3%83%88%E3%82%99SSL%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%82%92%E4%BD%9C%E3%82%8B%E9%9A%9B%E3%81%AE%E6%A4%9C%E8%A8%8E%E4%BA%8B%E9%A0%85%20dd4f15226e3843428ef3d4ac58656f20/Untitled.png)