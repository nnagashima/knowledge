<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>AWS Systems Manager Patch Managerを利用してOSパッチ適用を自動化</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="3d38d678-17f4-4f84-a31e-115a326d328b" class="page sans"><header><h1 class="page-title">AWS Systems Manager Patch Managerを利用してOSパッチ適用を自動化</h1><p class="page-description"></p><table class="properties"><tbody><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesMultipleSelect"><path d="M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"></path></svg></span>タグ</th><td></td></tr></tbody></table></header><div class="page-body"><div><figure id="7d04e6bd-98c1-457a-9c54-379ebefda75f" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled.png"><img style="width:192px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled.png"/></a></figure></div><h1 id="5d1f57d9-1469-4bc9-9681-0cbb0a7c7c0a" class="">目次</h1><hr id="2dc19a66-feed-4e03-85d9-9df51c9407dd"/><nav id="937745f9-9d03-4fa1-8a26-68fab8d100f4" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5d1f57d9-1469-4bc9-9681-0cbb0a7c7c0a">目次</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#9eb3c1b3-a88d-4bb1-a0a4-7c4d8fb06c7d">AWSのPatch Managerとは</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#8546a776-a821-40e6-8d5b-686ca9b4b0c1">前提条件</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#a6e05c66-8819-4b22-8cb8-6e0cb74edcba">作成までの流れ</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#a72de076-4309-481a-99a1-f7c46b833c94">1. パッチベースラインの作成</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#fe5f05f1-d44c-4ccf-9b21-547fb6447702">2. パッチグループ名の指定</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#e0e023e8-2afc-49f8-95ce-87cb09d56ec6">3. <strong><strong>パッチ適用対象EC2インスタンスへタグの付与</strong></strong></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#31722df3-71b3-48bc-bb15-0794afe16893">4.パッチ適用を設定</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5f1a953b-9e8c-4d26-9a7b-c2420fe3f7e6">5. パッチポリシーの実行結果確認</a></div></nav><h1 id="9eb3c1b3-a88d-4bb1-a0a4-7c4d8fb06c7d" class="">AWSのPatch Managerとは</h1><hr id="524cac13-1447-4b79-9a02-2efe1b244cc9"/><p id="9386d082-f7c5-4cf4-ba4c-6e8998ae9388" class="">AWS Systems Manager の一機能である Patch Manager は、セキュリティ関連の更新およびその他の種類の更新の両方を使用してマネージドノードにパッチを適用するプロセスを自動化します。</p><p id="6c86971f-3c58-4f6d-ae01-32b9239e5d59" class="">WindowsOS、LinuxOSどちらにも対応しており、パッチの区分や重要度に応じて適用可否を制御する機能もあります。</p><h1 id="8546a776-a821-40e6-8d5b-686ca9b4b0c1" class="">前提条件</h1><hr id="b8c45339-1004-41f2-8c4e-0b37e1a53de6"/><ol type="1" id="d709efee-883f-4c10-af6b-de61db2b4be2" class="numbered-list" start="1"><li>パッチ適用対象のインスタンスはSystemsMangerによって管理されている必要があるので、<p id="778fb112-4344-491c-8030-55041f5a3266" class="">SSMAgentの導入と適切なIAMポリシーが必要になります。</p></li></ol><ol type="1" id="c2be7fc5-7db0-445b-a95f-47a06a650d24" class="numbered-list" start="2"><li>パッチレポジトリにアクセスできるようにする必要があります。<p id="3f3a06ef-f16d-45c4-a05e-3a689b063035" class="">LinuxについてはAWSが提供しているリポジトリがありますが、</p><p id="7cf8d10d-b0e0-48f0-bc04-79dbd02b1f95" class="">Windowsはないためインターネット上のパッチレポジトリにアクセスできるようにする必要があります。</p></li></ol><ol type="1" id="2f82e844-bec1-4d33-89c8-8cf27ff9d950" class="numbered-list" start="3"><li>プライベートサブネットの場合、SSMのVPCエンドポイントが必要になります。<p id="ba8e4f40-ccad-4e02-b3d1-2c0e87c218fb" class="">東京リージョンの場合：</p><ul id="09fa2d47-5e22-4823-85dc-cb3de00068d7" class="bulleted-list"><li style="list-style-type:disc">com.amazonaws.ap-northeast-1.ssm</li></ul><ul id="02633567-d3d9-45ba-8d97-9e40f8836c5a" class="bulleted-list"><li style="list-style-type:disc">com.amazonaws.ap-northeast-1.ec2messages</li></ul><ul id="46626e69-f2da-4d52-b4b8-04b15f7e2a9a" class="bulleted-list"><li style="list-style-type:disc">com.amazonaws.ap-northeast-1.ssmmessages</li></ul><ul id="a5323fe5-38f5-48b4-aefc-a63adff82eaf" class="bulleted-list"><li style="list-style-type:disc">com.amazonaws.ap-northeast-1.s3</li></ul></li></ol><h1 id="a6e05c66-8819-4b22-8cb8-6e0cb74edcba" class="">作成までの流れ</h1><hr id="eab18b82-0b3d-4ed7-901b-8212aa30d947"/><ol type="1" id="d198dca9-7d78-4dda-985b-245d71fb0947" class="numbered-list" start="1"><li>パッチベースラインの作成</li></ol><ol type="1" id="5470a977-6f84-4461-a440-31850e107d7b" class="numbered-list" start="2"><li>パッチグループ名の指定</li></ol><ol type="1" id="64c6cadb-5af2-4e26-8b14-596a800a1837" class="numbered-list" start="3"><li>パッチ適用対象EC2インスタンスへタグの付与</li></ol><ol type="1" id="2455fffe-4e91-4859-b3b1-c48394f655bc" class="numbered-list" start="4"><li>パッチ適用を設定</li></ol><ol type="1" id="1e220559-7884-4adc-bae4-f9f9ff376982" class="numbered-list" start="5"><li>実行結果確認</li></ol><h1 id="a72de076-4309-481a-99a1-f7c46b833c94" class="">1. パッチベースラインの作成</h1><hr id="247fd4bf-34eb-4db2-886b-2335b1b3281e"/><ul id="0d71cd01-670b-4a74-b56e-3a634a1ba755" class="bulleted-list"><li style="list-style-type:disc">設定名は任意の名前にしてください。</li></ul><ul id="18b7eb2a-906a-458c-b57b-d56917435b28" class="bulleted-list"><li style="list-style-type:disc">オペレーティングシステムはWindowsとします。</li></ul><ul id="c616ec9f-6905-4b03-934a-baf9a52f09f1" class="bulleted-list"><li style="list-style-type:disc">オペレーティングシステムルールの「製品」「分類」「重要度」を設定します。</li></ul><ul id="16e8325b-82db-4273-8ae3-8b43d2236740" class="bulleted-list"><li style="list-style-type:disc">自動承認には「指定した日数後にパッチを承認する」を選択します。</li></ul><figure id="bd04fc02-3b4d-4d4a-bc46-b4fd9ed4043e" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%201.png"><img style="width:816px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%201.png"/></a></figure><h1 id="fe5f05f1-d44c-4ccf-9b21-547fb6447702" class="">2. パッチグループ名の指定</h1><hr id="43d0345d-03d2-4b76-a3f5-ec03f4f73e18"/><p id="5af59520-9f62-45ec-80ba-b67ef0d9edfc" class="">作成したパッチベースラインを「アクション」から「パッチグループの変更」を選択します。</p><p id="f6499351-1e80-4b03-a34b-e3e5f352b327" class="">「パッチグループ」欄に任意の文字列を入力し「追加」ボタンをクリックしパッチグループが追加されたことを確認します。</p><figure id="49e330b8-52ea-4f50-a2bb-01b2e4dac644" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%202.png"><img style="width:1248px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%202.png"/></a></figure><h1 id="e0e023e8-2afc-49f8-95ce-87cb09d56ec6" class="">3. <strong><strong>パッチ適用対象EC2インスタンスへタグの付与</strong></strong></h1><hr id="cd95a7e3-2254-4be2-ad0d-046fb4da63ee"/><p id="95b8b0eb-fc7b-4dd0-a68e-fe375541fb78" class="">2で実施した以下の文字列をEC2インスタンスのタグに指定します。</p><p id="de1ec1ee-2c1c-4a15-9e4f-49f7082e4f45" class="">タグのキーにはPatch Groupとします。</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7ee4e2b2-f46b-49b7-a168-66cd24fa5624" class="code"><code class="language-JavaScript" style="white-space:pre-wrap;word-break:break-all">「パッチグループ」欄に任意の文字列を入力し「追加」ボタンをクリックしパッチグループが追加されたことを確認</code></pre><h1 id="31722df3-71b3-48bc-bb15-0794afe16893" class="">4.パッチ適用を設定</h1><hr id="a4ec3067-28bc-439b-a4da-af9b1a6a5a4b"/><p id="ec58a1f0-df39-4a5b-affe-ecec89bead5d" class="">パッチポリシーを作成します。</p><p id="c5b04954-2ddd-4ba1-8178-d93ec11b653b" class="">スキャンについては毎日0時、インストールについては0時の日曜日に実施としました。</p><p id="a118967c-acc3-4bea-9533-952ce9a6cc10" class="">必要に応じてメンテナンス時間が決まっていればパッチ適用後にOS再起動も実行が可能です。</p><figure id="c33fa656-b8f5-4a40-a0eb-5bc8e45bb2f6" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%203.png"><img style="width:720px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%203.png"/></a></figure><p id="958708d9-7ae1-4608-ab3a-6496a994494e" class="">同じようにAmazonLinux2023向けのパッチベースラインとパッチポリシーを作成しました。</p><h1 id="5f1a953b-9e8c-4d26-9a7b-c2420fe3f7e6" class="">5. パッチポリシーの実行結果確認</h1><hr id="5d35d1cd-1501-4c30-8895-d3d1f06dab38"/><p id="afd94fe4-ab03-4132-91c9-31929f5fbbcf" class="">動作結果は以下の通りとなります。RunCommandの結果を確認します。</p><figure id="c0e30173-4a40-41a2-8331-5f2a4ca9e4ed" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%204.png"><img style="width:1152px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%204.png"/></a></figure><p id="cdce3e54-d1eb-43f8-aab8-fef8af155f85" class="">コンプライアンスレポートから準拠になっていることを確認、また適用されているパッチの一覧を見ることもできます。</p><figure id="315281d9-a473-4d48-a317-cd7294bc9a5e" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%205.png"><img style="width:1152px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%205.png"/></a></figure><figure id="386e7e62-1388-4810-bd73-f59de7b94d0d" class="image" style="text-align:left"><a href="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%206.png"><img style="width:1152px" src="AWS%20Systems%20Manager%20Patch%20Manager%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6OS%E3%83%8F%E3%82%9A%E3%83%83%E3%83%81%E9%81%A9%E7%94%A8%E3%82%92%E8%87%AA%E5%8B%95%E5%8C%96%203d38d67817f44f84a31e115a326d328b/Untitled%206.png"/></a></figure><p id="b655d4e2-52df-44c0-ab82-0d21c1fca0d4" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>