<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>BYOL WorkSpacesのイメージ作成</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="61cf2ae4-efba-4b7e-8998-a34dc51f708c" class="page sans"><header><h1 class="page-title">BYOL WorkSpacesのイメージ作成</h1><p class="page-description"></p><table class="properties"><tbody><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesMultipleSelect"><path d="M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"></path></svg></span>タグ</th><td></td></tr></tbody></table></header><div class="page-body"><figure id="6aed9188-68d1-43cd-bba8-3984365fa77d" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/desktopappstreaming-amazonworkspaces-icon-1783x2048-s67ycgjv.png"><img style="width:192px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/desktopappstreaming-amazonworkspaces-icon-1783x2048-s67ycgjv.png"/></a></figure><h1 id="861c1b95-93f2-44a3-9acb-3032fd2e66c7" class="">目次</h1><hr id="0f42a7bf-2179-40e7-b21f-8d6f6cddb60b"/><nav id="535f043f-84a2-4e02-849b-ea16094b8162" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#861c1b95-93f2-44a3-9acb-3032fd2e66c7">目次</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#a63a6e28-1d85-4111-824c-154ca09b38c4">はじめに</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d0117ea2-bf9a-4ba9-8668-306b5c224705">仮想マシンの作成</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d8815ad3-951d-4928-8247-871c87edc7bd">WindowsOSのインストール</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f2bfd417-da74-42c3-8508-c119f3585a55">OSインストール後の作業</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#90e2a64b-97f8-4bef-8231-6ca061497c82">BYOL Checkerの実施</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b404e5da-6a9e-4e6f-a0bf-b7e889c02b5c">OVFからOVA形式へ変換</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d05d2214-ddfc-4bda-ba72-ba7a4642a5bf">S3へイメージをアップロード</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d00c83da-45f8-4747-a51d-1d110a398547">S3へアップロードしたイメージをVMImportするためのIAMロールとポリシー作成</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#d106d3d1-c6c9-4c78-9050-67d190b152d3">OVAイメージをAMIに変換</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#0c18eeb2-587a-419d-800b-7bffcd48406c">最後に</a></div></nav><h1 id="a63a6e28-1d85-4111-824c-154ca09b38c4" class="">はじめに</h1><hr id="147b52a5-5d9a-4e6d-9c2d-0d071724b3b6"/><p id="dd94eadb-58dd-4478-9580-8ef0bfe8656f" class="">AWS WorkSpacesでのBYOLを実施するにあたってイメージの作成が必要になります。</p><p id="ad180ee3-142b-4407-8839-4c6fae9acaf7" class="">イメージ作成までにはなりますが概要をまとめましたので記載します。</p><p id="011843c3-0ea4-41ba-b31d-715e5004d3c2" class="">Windows10のISOは以下が対応しているようです。詳細要件については以下URLを参照ください。（2023年09月時点）</p><ul id="258e0e0a-824a-401d-929c-6b3b1972bd46" class="bulleted-list"><li style="list-style-type:disc">Windows 10 バージョン 21H2 (2021 年 12 月更新)</li></ul><ul id="bb11c1f9-270d-400d-8b17-47654998b4e9" class="bulleted-list"><li style="list-style-type:disc">Windows 10 バージョン 22H2 (2022 年 11 月更新)</li></ul><ul id="76fe1ccb-146f-4801-957f-32dcdb21682d" class="bulleted-list"><li style="list-style-type:disc">Windows 11 バージョン 22H2 (2022 年 10 月リリース)</li></ul><p id="66251faf-8514-4d38-88db-5fd14d0672e9" class=""><a href="https://docs.aws.amazon.com/ja_jp/workspaces/latest/adminguide/byol-windows-images.html">https://docs.aws.amazon.com/ja_jp/workspaces/latest/adminguide/byol-windows-images.html</a></p><h1 id="d0117ea2-bf9a-4ba9-8668-306b5c224705" class="">仮想マシンの作成</h1><hr id="b6707a4b-5843-4780-9ef3-51a90abc0c3c"/><p id="00666667-0daf-4f96-80bf-eb88bcefeacb" class="">今回私はイメージの作成にESXi8を利用しております。新規仮想マシンの作成を実施します。</p><p id="043e069f-adc5-48c5-ab02-d155c7af52bb" class="">WindowsのOSイメージを作成するにあたり、言語はEnglishである必要があるのでISOダウンロード時には注意してください。</p><figure id="3af67f87-86c6-4ad3-b44d-57d27decd783" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled.png"/></a></figure><p id="009da355-efa6-4b4c-8442-d84961dc4d2a" class="">イメージの作成はWindows10で実施します。</p><figure id="59d5bd0d-f9b3-48d2-af20-3196b5aa3dd6" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%201.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%201.png"/></a></figure><p id="4583357a-81b9-4268-bff0-b094859e68fe" class="">仮想マシンのストレージを選択します。</p><figure id="0486d5b4-21e5-4d58-9f3e-fd82263f5302" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%202.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%202.png"/></a></figure><p id="dd0c50ea-51a3-4826-bbb9-199937f1041f" class="">BYOL CheckerではDISKは80GB以下にする必要があるので80GBで作成していますが、</p><p id="833c3834-bdaf-44ea-a31c-e170af6018fd" class="">あとから調べると「VM は、最大サイズが 70 GB、空き容量が 10 GB 以上の 1 つのボリューム上にあることが必要です。</p><p id="0c228686-fab4-4111-9eb8-364c273f1daa" class="">また、BYOL イメージの Microsoft Office へのサブスクライブを計画している場合は、</p><p id="7d986afd-87eb-4a6e-8fba-3ac418954067" class="">VM は最大サイズが 70 GB で、20 GB 以上の空き容量を持つ 1 つのボリューム上に存在する必要があります。</p><p id="d08045df-40de-4961-a4c1-150798c0869d" class="">ルートボリュームがある DISK は 70 GB を超えることはできません。」</p><p id="181206bd-47ce-4ed9-8251-a450da1ea0f7" class="">と記載があるので70GBで作成するのがよさそうです。</p><figure id="38a876bd-7c87-4c41-9f7f-bad103e279f4" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%203.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%203.png"/></a></figure><p id="3b1b8b62-73b1-4e15-be95-5de100c59811" class="">I/Oコントローラタイプの選択では、デフォルト（LSI Logic SAS）にします。</p><figure id="215ab664-5f82-4418-90d3-606922444ad6" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%204.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%204.png"/></a></figure><p id="bdd3e6c1-dac8-45e7-a6e2-0fee3cd13b18" class="">データストアのISOイメージは事前にダウンロードしたISOをマウントしておきます。</p><figure id="d5982b6b-790b-47d8-988f-9969929799f3" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%205.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%205.png"/></a></figure><p id="234bebaf-1830-4ac0-af7a-87fb842c2d84" class="">WorkSpacesの要件である「1つのシングルボリュームの仮想マシン」を作る必要があるため、</p><p id="b231d388-5049-4776-a2ea-7cbd7171e54a" class="">仮想マシンのオプションでボリュームが分割されないようにファームウェアタイプをBIOSにします。</p><figure id="2917f97a-b7da-4ec1-b86e-cc63f7d43794" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%206.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%206.png"/></a></figure><h1 id="d8815ad3-951d-4928-8247-871c87edc7bd" class="">WindowsOSのインストール</h1><hr id="eb1c0a8e-69bd-48a3-8030-72c2c9182654"/><figure id="c4ddc103-3f6c-4b96-9f43-bf098ba98d2d" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%207.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%207.png"/></a></figure><figure id="c9890e3d-f6c8-4d77-98b1-aef121352c89" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%208.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%208.png"/></a></figure><figure id="a677f7f7-0373-457f-b18e-5e7b29d443fe" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%209.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%209.png"/></a></figure><p id="92eb5d8e-fed8-44b8-95ab-4caf3d1e2eaf" class="">今回はWindows10Proで実施しています。</p><figure id="5e56edca-732d-40e5-96bf-9f25fa45b17e" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2010.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2010.png"/></a></figure><figure id="cdc25484-8f2b-4cf3-af16-01fd28bcffc0" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2011.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2011.png"/></a></figure><figure id="deafc219-9845-4fdf-b18e-414c574c01b9" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2012.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2012.png"/></a></figure><figure id="e2627e3d-1cce-4430-aafd-17f3dac10456" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2013.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2013.png"/></a></figure><figure id="f47cb3b6-e2bb-4c3f-93f8-7d9a52ef8008" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2014.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2014.png"/></a></figure><figure id="ae3c3dac-3c7a-46b5-bf0e-48a77ba91a35" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2015.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2015.png"/></a></figure><figure id="73167d91-da7f-4299-83b2-a658cb26f6c0" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2016.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2016.png"/></a></figure><figure id="82fef5ab-9d1c-4e30-816c-5e9e5164de2e" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2017.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2017.png"/></a></figure><figure id="15ae5903-604f-429c-af3f-289f5e372c24" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2018.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2018.png"/></a></figure><figure id="e2c2bc37-150c-4d54-9984-8e67fade0431" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2019.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2019.png"/></a></figure><figure id="472de1fe-dee9-49fb-bb58-65bf65020cc8" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2020.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2020.png"/></a></figure><figure id="53210174-88a9-4fce-a500-42a4667d742b" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2021.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2021.png"/></a></figure><figure id="93cc6fc9-f49d-4118-9659-633567a941fe" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2022.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2022.png"/></a></figure><figure id="38e34f17-d6c6-4b27-b963-c248aeb749df" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2023.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2023.png"/></a></figure><figure id="5a563a5b-12c8-49d2-bc59-78c0a0785378" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2024.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2024.png"/></a></figure><h1 id="f2bfd417-da74-42c3-8508-c119f3585a55" class="">OSインストール後の作業</h1><hr id="21890d22-843e-433f-97e7-10bd15d27481"/><ul id="16ff1c98-b540-4330-84d5-213fa59dea08" class="bulleted-list"><li style="list-style-type:disc">ログインしてKMS認証を実施</li></ul><ul id="081a60fe-efe8-4bf8-9bcf-26ca3360a6a5" class="bulleted-list"><li style="list-style-type:disc">Administrator有効化とパスワード設定（<a href="https://www.partitionwizard.jp/partitionmanager/enable-administrator-account.html">https://www.partitionwizard.jp/partitionmanager/enable-administrator-account.html</a>）</li></ul><ul id="3fc8b8aa-7eb2-4249-b1ea-2b32e539eb53" class="bulleted-list"><li style="list-style-type:disc">Workspaces_BYOLアカウントの作成(Administratorsグループへの所属) とパスワードの設定</li></ul><ul id="49f68808-2bc5-42ec-ab92-39a546f22990" class="bulleted-list"><li style="list-style-type:disc">BYOLユーザーでログインして、BYOLアカウント以外のユーザープロファイル削除</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3fa43d61-aff4-4f25-b58f-f47589729db0" class="code"><code class="language-Shell">Get-WmiObject win32_userprofile | where { $_.Sid -match &quot;S-1-5-¥d{2}-&quot; -and $_.LocalPath -notmatch &quot;$env:USERNAME`$&quot; }</code></pre><ul id="1f63a835-cfac-47f2-b6d4-366f86c6a07b" class="bulleted-list"><li style="list-style-type:disc">スタート＞設定＞システム＞詳細情報＞システムの詳細設定をクリックし、システムのプロパティウインドウの詳細設定タブから、<p id="b5bd6a2c-05b2-426c-9e9a-b9b23666fa94" class="">ユーザプロファイルの「設定」をクリックし、「既定のプロファイル」と「WorkSpaces_BYOL」以外のユーザプロファイルがある場合には削除</p></li></ul><ul id="397e843d-03da-45a4-a82f-bf991b6c6f72" class="bulleted-list"><li style="list-style-type:disc">Winodowsへの自動ログオンの無効化</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f9d4cabb-99dc-4e61-9ac6-092ffb890e83" class="code"><code class="language-Shell">netplwizを起動して、ユーザーがこのコンピューターを利用する際、ユーザー名とパスワードの記入が必須にする</code></pre><ul id="13ed2f09-0d04-4ef3-b90c-7229e593c532" class="bulleted-list"><li style="list-style-type:disc">RealTimeIsUniversalレジストリキーの追加</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cc844eb6-754b-4527-8aaa-5d60709bcaae" class="code"><code class="language-Shell">reg add &quot;HKEY_LOCAL_MACHINE¥System¥CurrentControlSet¥Control¥TimeZoneInformation&quot; /v RealTimeIsUniversal /d 1 /t REG_DWORD /f</code></pre><ul id="ac5026f3-c14e-4c06-a72b-a4639efb1862" class="bulleted-list"><li style="list-style-type:disc">IPv6無効化（IPアドレスは静的を使用しない）</li></ul><ul id="51b354fd-e398-4e5f-8394-da919482edc5" class="bulleted-list"><li style="list-style-type:disc">RDP有効化（ネットワークレベル認証未設定）</li></ul><ul id="ff2f743d-8164-46f5-b2a9-95b304c9961b" class="bulleted-list"><li style="list-style-type:disc">FW無効化</li></ul><ul id="bda10616-1b63-4670-b01a-f5d00f2608fa" class="bulleted-list"><li style="list-style-type:disc">WindowsUpdate実施、実施後WindowsUpdateサービス無効化</li></ul><ul id="1c534a93-2040-4090-91aa-269d1ed391e0" class="bulleted-list"><li style="list-style-type:disc">VMtoolsをインストールします</li></ul><ul id="f75223eb-360f-42e3-be08-c5f765426184" class="bulleted-list"><li style="list-style-type:disc">Modern Appx Packageを削除します</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="564e06dc-6319-45ef-9973-fde7aab7d5f1" class="code"><code class="language-Shell">&gt; set-executionpolicy unrestricted
  Do you want to change the execution policy? [A] Yes to All
&gt; A ←入力
&gt; Get-AppxPackage -AllUsers | Remove-AppxPackage</code></pre><ul id="b880da97-1a5f-45e0-b68b-81e20e44e7b3" class="bulleted-list"><li style="list-style-type:disc">VMtoolsをアンインストールします</li></ul><ul id="2e9b3ef7-722f-419b-9b22-399457e8f800" class="bulleted-list"><li style="list-style-type:disc">CDDriveからISOイメージを外す</li></ul><p id="96b6d2a1-e2da-4a86-b286-105edfe10459" class="">全部実施したらOS再起動をします。</p><figure id="fb00650e-4f4d-4836-b4ff-a9980b94ef95" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2025.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2025.png"/></a></figure><h1 id="90e2a64b-97f8-4bef-8231-6ca061497c82" class="">BYOL Checkerの実施</h1><hr id="6a7133d4-f95e-4b1d-9ce3-d51e835588b2"/><ul id="e7f3e284-1578-4288-9a59-a1abcfa50275" class="bulleted-list"><li style="list-style-type:disc"><a href="https://tools.amazonworkspaces.com/BYOLChecker.zip">https://tools.amazonworkspaces.com/BYOLChecker.zip</a>をダウンロードして解凍しておきます。</li></ul><ul id="f19e8e15-57f7-44e9-a639-9072fb4d15d2" class="bulleted-list"><li style="list-style-type:disc">PowerShellを管理者モードで起動し、BYOL Checkerを解凍したディレクトリに移動し以下コマンドを実施します。<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0489fc9c-cb1b-4f47-8143-11a99fca66dd" class="code"><code class="language-Shell">Set-ExecutionPolicy Unrestricted
./BYOLChecker.ps1</code></pre></li></ul><ul id="6c1fba5a-d315-4324-8a26-c925679c5804" class="bulleted-list"><li style="list-style-type:disc">BYOL Chckerの画面がでたらBegin Testsを実施して結果を確認します。</li></ul><p id="12502203-d581-4835-aeba-ec89a7cbefef" class="">
</p><p id="13484abc-9487-44f6-bdf2-0819cdb354f2" class="">以下BYOL Checkerの画面となります。Warning項目はFix All Warningsで解消可能となります。</p><figure id="1f6923b2-e894-451c-9532-f77f819b7624" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2026.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2026.png"/></a></figure><figure id="bdee4600-852c-47c5-9753-d8994c59ded0" class="image" style="text-align:left"><a href="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2027.png"><img style="width:1200px" src="BYOL%20WorkSpaces%E3%81%AE%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B7%E3%82%99%E4%BD%9C%E6%88%90%2061cf2ae4efba4b7e8998a34dc51f708c/Untitled%2027.png"/></a></figure><h1 id="b404e5da-6a9e-4e6f-a0bf-b7e889c02b5c" class="">OVFからOVA形式へ変換</h1><hr id="df43ecce-dc1d-4e6b-9cad-1b53db6ae8e3"/><p id="eb2a91ba-3983-454a-9038-e61cbb4eb503" class="">仮想マシン停止後、VMwareのコンソールから対象の仮想マシンをOVF形式でエクスポートします。</p><p id="580c5d72-9b7d-470a-86f7-d32512b8c616" class="">その後、OVFToolを利用してOVF形式からOVA形式にイメージ変換します。</p><p id="58489604-7da7-4f1a-ae2f-c7617c0a4a6f" class="">※OVFToolのダウンロードはVMwareアカウントが必要になります。</p><p id="7a3bfeed-a04c-4c9f-88d3-287d1b8f6cf5" class="">以下、MACでの実行例です。</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6fd4b29b-d812-4ad3-a6e0-c61daccb4cd1" class="code"><code class="language-Bash">% cd /Applications
% cd ./VMware\ OVF\ Tool
% ./ovftool /Users/username/Downloads/image/windows10-22H2-2.ovf /Users/username/Downloads/windows10-22H2-2.ova
Opening OVF source: /Users/username/Downloads/image/windows10-22H2-2.ovf
The manifest validates
Warning:
 - Line -1: Unsupported value &#x27;cpuid.coresPerSocket&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;tools.guest.desktop.autolock&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;svga.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge0.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge4.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge4.virtualDev&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge4.functions&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge5.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge5.virtualDev&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge5.functions&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge6.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge6.virtualDev&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge6.functions&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge7.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge7.virtualDev&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge7.functions&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;hpet0.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;RemoteDisplay.maxConnections&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;sched.cpu.latencySensitivity&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;disk.EnableUUID&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmxstats.filename&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;numa.autosize.cookie&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;numa.autosize.vcpu.maxPerVirtualNode&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge0.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge4.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge5.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge6.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;pciBridge7.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;scsi0.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;ethernet0.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;usb_xhci.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;sata0.pciSlotNumber&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;scsi0.sasWWID&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmotion.checkpointFBSize&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmotion.checkpointSVGAPrimarySize&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmotion.svga.mobMaxSize&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmotion.svga.graphicsMemoryKB&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;ethernet0.generatedAddressOffset&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;monitor.phys_bits_used&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;softPowerOff&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;toolsInstallManager.lastInstallError&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;svga.guestBackedPrimaryAware&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;tools.remindInstall&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;toolsInstallManager.updateCounter&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;guestInfo.detailed.data&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;sata0:0.autodetect&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;usb_xhci:4.present&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;usb_xhci:4.deviceType&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;usb_xhci:4.port&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;usb_xhci:4.parent&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmware.tools.internalversion&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;vmware.tools.requiredversion&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
 - Line -1: Unsupported value &#x27;migrate.hostLog&#x27; for attribute &#x27;key&#x27; on element &#x27;ExtraConfig&#x27;.
Opening OVA target: /Users/username/Downloads/windows10-22H2-2.ova
Writing OVA package: /Users/username/Downloads/windows10-22H2-2.ova
Transfer Completed                    
Warning:
 - No supported manifest(sha1, sha256, sha512) entry found for: &#x27;windows10-22H2-2.ovf&#x27;.
 - File is missing from the manifest: &#x27;windows10-22H2-2.ovf&#x27;.
 - Wrong file size specified in OVF descriptor for &#x27;windows10-22H2-2-0.vmdk&#x27; (specified: 0, actual 17790739968).
 - Wrong file size specified in OVF descriptor for &#x27;windows10-22H2-2.nvram&#x27; (specified: 0, actual 8684).
Completed successfully</code></pre><h1 id="d05d2214-ddfc-4bda-ba72-ba7a4642a5bf" class="">S3へイメージをアップロード</h1><hr id="51282438-f592-442d-9e39-8be905661a2d"/><p id="612918e4-02c5-43aa-964e-030d7ead3b24" class="">AWSマネジメントコンソールにてWorkSpacesを起動するリージョンでS3バケットを作成して、作成したイメージをアップロードします。</p><h1 id="d00c83da-45f8-4747-a51d-1d110a398547" class="">S3へアップロードしたイメージをVMImportするためのIAMロールとポリシー作成</h1><hr id="940190bc-6168-4c98-94fc-873d68ca53a1"/><p id="2ff9a4a1-5894-434f-9843-5db32c7103d9" class="">ここからはAWS CLIを利用します。</p><ol type="1" id="e5da7fa8-7d2d-48b2-b9ab-b3284672489b" class="numbered-list" start="1"><li>AWS CLIを起動してVMImport用のポリシーを作成するためのファイルを作成します。</li></ol><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9e574e32-f08f-4451-8f9e-c4051b859744" class="code"><code class="language-Bash">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [
      {
         &quot;Effect&quot;: &quot;Allow&quot;,
         &quot;Principal&quot;: { &quot;Service&quot;: &quot;vmie.amazonaws.com&quot; },
         &quot;Action&quot;: &quot;sts:AssumeRole&quot;,
         &quot;Condition&quot;: {
            &quot;StringEquals&quot;:{
               &quot;sts:Externalid&quot;: &quot;vmimport&quot;
            }
         }
      }
   ]
}</code></pre><ol type="1" id="d718c77e-a749-4710-8165-2c32d98fdb0a" class="numbered-list" start="2"><li>AWS CLIにて上記で作成したファイルを保存したフォルダに移動してVMImport用のロールを作成します。</li></ol><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="184bd027-e278-4665-894d-56da194a2eec" class="code"><code class="language-Bash">$ aws iam create-role　--role-name vmimport　--assume-role-policy-document file://ファイル名.json</code></pre><ol type="1" id="8daa8a64-8b43-4472-b086-b12f60c1aa63" class="numbered-list" start="3"><li>AWS CLIにてロールにアタッチする権限を記載したポリシーを作成します。（OVAイメージが置いているバケットを指定）</li></ol><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="583f290b-78a9-42b3-b5aa-611e75670506" class="code"><code class="language-Bash">{
   &quot;Version&quot;:&quot;2012-10-17&quot;,
   &quot;Statement&quot;:[
      {
         &quot;Effect&quot;: &quot;Allow&quot;,
         &quot;Action&quot;: [
            &quot;s3:GetBucketLocation&quot;,
            &quot;s3:GetObject&quot;,
            &quot;s3:ListBucket&quot; 
         ],
         &quot;Resource&quot;: [
            &quot;arn:aws:s3:::S3バケット名&quot;,
            &quot;arn:aws:s3:::S3バケット名/*&quot;
         ]
      },
      {
         &quot;Effect&quot;: &quot;Allow&quot;,
         &quot;Action&quot;: [
            &quot;s3:GetBucketLocation&quot;,
            &quot;s3:GetObject&quot;,
            &quot;s3:ListBucket&quot;,
            &quot;s3:PutObject&quot;,
            &quot;s3:GetBucketAcl&quot;
         ],
         &quot;Resource&quot;: [
            &quot;arn:aws:s3:::S3バケット名&quot;,
            &quot;arn:aws:s3:::S3バケット名/*&quot;
         ]
      },
      {
         &quot;Effect&quot;: &quot;Allow&quot;,
         &quot;Action&quot;: [
            &quot;ec2:ModifySnapshotAttribute&quot;,
            &quot;ec2:CopySnapshot&quot;,
            &quot;ec2:RegisterImage&quot;,
            &quot;ec2:Describe*&quot;
         ],
         &quot;Resource&quot;: &quot;*&quot;
      }
   ]
}</code></pre><ol type="1" id="c3f3f327-e555-499f-b485-8298c767c454" class="numbered-list" start="4"><li>AWS CLIにて、1で作成したファイルを保存したフォルダに移動して、2で作成したロールに3で指定した権限を付与します。</li></ol><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e3009bf4-1846-4ca2-a796-23080469c78e" class="code"><code class="language-Bash">$ aws iam put-role-policy --role-name vmimport --policy-name vmimport --policy-document file://ファイル名.json</code></pre><h1 id="d106d3d1-c6c9-4c78-9050-67d190b152d3" class="">OVAイメージをAMIに変換</h1><hr id="6455f442-a5ca-40e9-8c24-55f95c83087d"/><p id="d2a1eb1c-158c-4f45-b73e-3de396348e02" class="">OVAイメージをVMImportでAMI化するためにファイルを作成してAWS CLIで保存</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f9e833fa-0dc2-4eea-a4bc-13891e647213" class="code"><code class="language-Bash">{
  &quot;Description&quot;: &quot;Windows10 BYOL Pro&quot;,
  &quot;DiskContainers&quot;: [
    {
      &quot;Description&quot;: &quot;Windows10 Root volume&quot;,
      &quot;Format&quot;: &quot;ova&quot;,
      &quot;UserBucket&quot;: {
        &quot;S3Bucket&quot;: &quot;S3バケット名&quot;,
        &quot;S3Key&quot;: &quot;ファイル名.ova&quot;
      }
    }
  ],
  &quot;LicenseType&quot;: &quot;BYOL&quot;
}</code></pre><ol type="1" id="3587dc9e-6c31-456e-8d6d-612313c84cbd" class="numbered-list" start="2"><li>1で配置したフォルダに移動してVMImportを実行します。</li></ol><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8c92af58-1f27-4ee5-a9c0-432d0e92533d" class="code"><code class="language-Bash">$ aws ec2 import-image --cli-input-json file://ファイル名.json --region ap-northeast-1

&gt;タスク進捗状況の確認
$ aws ec2 describe-import-image-tasks --import-task-ids import-ami-000000000000000000　←タスクIDを指定してインポート進捗状況を確認します。</code></pre><ol type="1" id="d7ce1795-782e-4102-8e2b-e8514245c2c4" class="numbered-list" start="3"><li>EC2サービスのAMIにイメージが表示されていることを確認し、WorkSpacesサービスのイメージからイメージの作成にてWorkSpacesイメージを作成します。</li></ol><p id="5550560c-7181-403e-8554-e2f782efaac6" class="">（BYOL申請が通っていれば表示されます）</p><h1 id="0c18eeb2-587a-419d-800b-7bffcd48406c" class="">最後に</h1><hr id="06b47fb9-ab8f-4d3a-a9d6-575f8db274ea"/><p id="05e2d416-0ab3-42e9-a626-e7fc4143cb7e" class="">色々と制約が多いので気をつけなければならない点がありますが、要点を押さえておけばそこまで難しいことはないかもしれません。</p><p id="fbb94787-1e4a-4808-ad52-f479220c2f42" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>